## Типы приложений для магазина приложений

Тип приложения определяет, в первую очередь, технический способ интеграции приложения с МоимСкладом.

В магазин приложений МоегоСклада можно добавить:

+ Серверные приложения,
+ Телефония (Phone API),
+ Приложения лояльности (Loyalty API).

Поддержка функций в зависимости от типа приложения:     

| Функциональность                         | Серверные приложения | Телефония | Приложения лояльности |
|------------------------------------------|----------------------|-----------|-----------------------|
| Iframe и доступ к контексту пользователя | +                    | -         | -                     |
| Активация и деактивация по Vendor API    | +                    | -         | -                     |
| Доступ по токену к JSON API 1.2          | +                    | -         | -                     |
| Отладка на аккаунтах разработчика        | +                    | +         | +                     |
| Phone API                                | -                    | +         | -                     |
| Loyalty API                              | -                    | -         | +                     |
| Виджеты                                  | +                    | -         | -                     |
| Количество приложений на аккаунте        | Не ограничено        | 1         | 1                     |

### Серверные приложения

Серверные приложения — это приложения, основная функциональность которых основана на обмене данными с МоимСкладом по JSON API.
 Для этого при активации приложения по Vendor API на сервер разработчика передается [токен доступа к JSON API 1.2](#dostup-po-tokenu-k-json-api). Доступ по токену поддерживается только в JSON API 1.2.
 
Для серверных приложений поддерживается активация и деактивация по Vendor API.

Для серверных приложений доступно получение [контекста текущего пользователя](#poluchenie-kontexta-pol-zowatelq-dlq-prilozhenij-s-iframe-chast-u-popapami-i-widzhetami) МоегоСклада (через Vendor API) — 
 то есть можно узнать, какой именно пользователь какого аккаунта открывает приложение в UI МоегоСклада.   

Также серверное приложение может иметь iframe-часть — страницу, которую можно использовать как пользовательский интерфейс, 
в том числе для настроек приложения со стороны пользователя МоегоСклада или администратора аккаунта. 
Iframe-часть приложения загружается по указанному разработчиком URL на отдельной вкладке внутри раздела Приложения МоегоСклада. Поддерживается возможность расширенного iframe. Подробнее смотрите [Дескриптор](#blok-iframe). 

Только для серверных приложений доступны [виджеты](#vidzhety).

Только серверные приложения могут быть [платными](#uslowiq-oplaty-prilozhenij).   
 
В общем случае жесткие требования к внешнему виду и визуальному дизайну iframe-части приложений отсутствуют. Приветствуется визуальное соответствие дизайну МоегоСклада. Для этого разработан UI Kit:

 ![useful image](ui-kit.png)

UI Kit доступен по [ссылке](https://github.com/moysklad/html-marketplace-1.0-uikit).
 
Одновременно на аккаунте может быть подключено несколько серверных приложений.

Доступна отладка на аккаунтах разработчика.

### Телефония

Эти приложения представляют собой интеграцию с внешними сервисами телефонии по Phone API: 
[https://apps-api.moysklad.ru/api/phone/1.0/doc/index.html](https://apps-api.moysklad.ru/api/phone/1.0/doc/index.html)
Приложения телефонии не могут получать доступ по токену к JSON API, не имеют возможности активации и деактивации по Vendor API. В перспективе эти возможности могут появиться.

Одновременно на аккаунте может быть подключено только одно приложение телефонии.

Доступна отладка на аккаунтах разработчика.

### Приложения лояльности

API для интеграции МоегоСклада с системами лояльности и внешними сервисами управления скидками: 
[https://dev.moysklad.ru/doc/api/loyalty/1.0](https://dev.moysklad.ru/doc/api/loyalty/1.0)
 
Одновременно на аккаунте может быть подключено одно приложение лояльности.
 
Для отладки можно использовать:

- приложение **Loyalty API** (находится первым в блоке Скидки); 
- собственный черновик приложения совместно с приложением Касса МоегоСклада (кроме версии для iOS).
